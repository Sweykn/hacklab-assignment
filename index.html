<!DOCTYPE html>
<html>
<head>
  <title>Traffic Light Demo</title>
  <style>
    /* Button style*/
    .button {
      width: 100px;
      height: 100px;
      margin: 10px;
      border: none;
      border-radius: 50%;
      background-color: black;
    }

    #red {
      background-color: red;
    }

    #green {
      background-color: green;
    }

    #yellow {
      background-color: yellow;
    }
  </style>
</head>
<body>
  <h1>Traffic Light Demo</h1>
  <div  id="traffic-light">
    <button id="red" class="button"></button>
    <button id="green" class="button"></button>
    <button id="yellow" class="button"></button>
  </div>
  <script>
    let state = 'Red';
    let timeoutId;

    // Function to handle button clicks
    function handleButtonClick(buttonId) {
      clearTimeout(timeoutId); // Clear previous timeout

      // Update state based on button clicked
      switch (buttonId) {
        case 'red':
          state = 'Red';
          break;
        case 'green':
          state = 'Green';
          break;
        case 'yellow':
          state = 'Yellow';
          break;
        default:
          break;
      }

      // Update button color based on current state
      updateButtonColor();

      // Set new timeout based on current state
      switch (state) {
        case 'Green':
          timeoutId = setTimeout(() => {
            state = 'Yellow';
            updateButtonColor();
          }, 15000); // 15 seconds
          break;
        case 'Yellow':
          timeoutId = setTimeout(() => {
            state = 'Red';
            updateButtonColor();
          }, 5000); // 5 seconds
          break;
        case 'Red':
          timeoutId = setTimeout(() => {
            state = 'Green';
            updateButtonColor();
          }, 20000); // 20 seconds
          break;
        default:
          break;
      }
    }

    // Function to update button color
    function updateButtonColor() {
      // Reset all buttons to black
      document.getElementById('red').style.backgroundColor = 'black';
      document.getElementById('green').style.backgroundColor = 'black';
      document.getElementById('yellow').style.backgroundColor = 'black';

      // Update button color based on current state
      switch (state) {
        case 'Green':
          document.getElementById('green').style.backgroundColor = 'green';
          break;
        case 'Yellow':
          document.getElementById('yellow').style.backgroundColor = 'yellow';
          break;
        case 'Red':
          document.getElementById('red').style.backgroundColor = 'red';
          break;
        default:
          break;
      }
    }

    // Add event listeners to buttons
    document.getElementById('red').addEventListener('click', () => {
      handleButtonClick('red');
    });
    document.getElementById('green').addEventListener('click', () => {
      handleButtonClick('green');
    });
    document.getElementById('yellow').addEventListener('click', () => {
      handleButtonClick('yellow');
    });

    // Initialize button color
    updateButtonColor();
  </script>
</body>
</html>
